{% extends "base.html" %}
{% block content %}

<h2>Add a New Group</h2>

<!-- Show validation errors -->
{% for field in form %}
  {% for error in field.errors %}
    <div class="alert alert-danger">
      {{ field.label.text }}: {{ error }}
    </div>
  {% endfor %}
{% endfor %}

<form method="POST" action="{{ url_for('submit_group') }}">
  {{ form.hidden_tag() }}

  <div class="mb-3">
    {{ form.name.label(class="form-label") }}
    {{ form.name(class="form-control") }}
  </div>

  <div class="mb-3">
    {{ form.city.label(class="form-label") }}
    {{ form.city(class="form-control") }}
  </div>

  <div class="mb-3">
    {{ form.state.label(class="form-label") }}
    {{ form.state(class="form-control") }}
  </div>

  <div class="mb-3">
    {{ form.zip_code.label(class="form-label") }}
    {{ form.zip_code(class="form-control") }}
  </div>

  <div class="mb-3">
    {{ form.group_details.label(class="form-label") }}
    {{ form.group_details(class="form-control") }}
  </div>

  <div class="mb-3">
    {{ form.website_address.label(class="form-label") }}
    {{ form.website_address(class="form-control") }}
  </div>

  <div class="mb-3">
    {{ form.social_media.label(class="form-label") }}
    {{ form.social_media(class="form-control") }}
  </div>

  <button type="submit" class="btn btn-primary">Add Group</button>

  <div class="form-group">
  {{ form.approximate_age_range.label }}
  {{ form.approximate_age_range(class="form-control", id="age-dropdown") }}
</div>

<div class="form-group" id="custom-age-group" style="display: none;">
  {{ form.custom_age_range.label }}
  {{ form.custom_age_range(class="form-control") }}
</div>

</form>


<script>
  const ageDropdown = document.getElementById("age-dropdown");
  const customAgeGroup = document.getElementById("custom-age-group");

  ageDropdown.addEventListener("change", function () {
    customAgeGroup.style.display = this.value === "Other" ? "block" : "none";
  });

  if (ageDropdown.value === "Other") {
    customAgeGroup.style.display = "block";
  }

  if (ageDropdown.value !== "Other") {
  customAgeGroup.style.display = "none";
  document.querySelector('[name="custom_age_range"]').value = "";
}



</script>


{% endblock %}
